
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>WDV221 Intro Javascript - Arrays</title>

    <style>
        form	{
            border:thin solid gray;
            width:400px;
            background-color:#9FF;
            margin-left:50px;	
        }
	
        form p	{
            padding-left:5px;	
        }
    </style>
    <script>
        let states = ['Iowa', 'Illinois', 'Missouri', 'Wisconsin'];
        let stateSalesTax = [.06,.11,.07,.08]

        function salesTaxLookup() {
            let getState = document.querySelector('#selectState');
            let getIndex = getState.value -1;
            let selectedState = states[getIndex];
            let taxRate = stateSalesTax[getIndex];
            taxRate = taxRate * 100;

            // When I was doing this only .07 would show decimals for some reason? I.E .07 * 100 would show 7.0000000000001,
            // but all the others would just show the expected whole number. I couldn't figure out why this is happening
            let formattedTaxRate = parseInt(taxRate.toFixed(0));

            document.querySelector("#displayTaxRat").innerHTML = `${formattedTaxRate}%`;
        };
        
        function clearButton() { 
            let clear = ""
            document.querySelector("#displayTaxRat").innerHTML = clear;
        };
        

    </script>
</head>

    <body>
        <h1>WDV221 Intro Javascript</h1>
        <h2>Project 6  Arrays Assignment</h2>
        <hr />
        <p>Please complete the following exercises on this page. When complete post this page to your  server. Make a link in your WDV221 homework  page for this assignment. </p>
        <p>Include a comment in each script with the exercise number and a description of what the script is supposed to do.</p>
        <p>Using Canvas submit this  Assignment.</p>
        <hr />
        <h3>Lookup Tax Rate Form</h3>
        <p>This form will use arrays to load the values into the drop down list. It will allow the user to select a state from the dropdown list. Once it is selected the tax rate for that state will be dislayed on the form.</p>
        <form id="form1" name="form1" method="post" action="">
            <p>Please select a state: 
            <select name="selectState" id="selectState" onchange="salesTaxLookup()">
                <script>
                    for (let i = 0; i < states.length; i++) {
                        document.write(`<option value="${i + 1}">${states[i]}</option>`);
                    }
                </script>
            </select>
            </p>
            <p>The Sales tax rate is: <span id="displayTaxRat"></span> </p>
            <p>
            <input type="reset" name="button2" id="button2" value="Reset" onclick="clearButton()" />
            </p>

        </form>
        <h3>Instructions:</h3>
        <ol>
            <li>Create an array called states that lists the following states in this order: Iowa, Illinois, Missouri, Wisconsin</li>
            <li>Create a parallel array called stateSalesTax that lists the following values in this order: 6%,11%,7%,8%. </li>
            <li>Use Javascript to dynamically load the list of states into the drop down menu. </li>
            <li>Create a function called salesTaxLookup( ).</li>
            <li>Use the onchange event handler on the select element to run salesTaxLookup( )</li>
            <li>The function will use a lookup loop to find where the state is located in the states array. It can then get the corresponding tax rate from the stateSalesTax array.</li>
            <li>It will display the tax rate for the selected state.</li>
        </ol>
    </body>
</html>
